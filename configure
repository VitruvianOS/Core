#!/bin/sh
FOLDER="generated"
if [ $# -eq 1 ] 
then
    FOLDER=$1
    if [ ! -d $FOLDER ]
        then 
            echo "Creating folder $FOLDER"
        	mkdir $FOLDER
        else
            echo "Cleaning folder $FOLDER"
        	rm -rf $FOLDER
            mkdir $FOLDER
    fi
fi
cd $FOLDER
# Init submodules
echo "Add external submodules"
git submodule update --init --recursive ../
# Generate the buildsystem
cmake .. -GNinja

echo "Configured correctly!"
